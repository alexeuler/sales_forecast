source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/import.R', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/import.R', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/import.R', echo=TRUE)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/import.R', echo=TRUE)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/import.R', echo=TRUE)
View(df)
View(df)
df
str(df)
df_weekly = subset(df, df$Day.of.the.week==NA)
View(df_weekly)
View(df_weekly)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
View(df_weekly)
View(df_weekly)
df$Week
df_weekly = subset(df, df$Week==1)
View(df_weekly)
View(df_weekly)
df_weekly = subset(df, df$Week=="N/A")
df_weekly = subset(df, is.na(df$Week))
View(df_weekly)
View(df_weekly)
str(df_weekly)
weekdays(df$Date)
strftime(df$Date,'%A')
strftime(df$Date,'%a')
strftime(df$Date,'%w')
df$weekday = strftime(df$Date,'%w')
df_weekly = subset(df, weekday = 0)
View(df)
View(df)
View(df_weekly)
View(df_weekly)
df_weekly = subset(df, weekday == 0)
View(df_weekly)
View(df_weekly)
str(df_weekly)
df$weekday = strftime(df$Date,'%w')
df$Week = strftime(df$Date,'%W')
df_weekly = subset(df, weekday == 0)
cust_weekly = data.frame(number = df_weekly$Cust...TOTAL)
View(cust_weekly)
View(cust_weekly)
df$Weekday = strftime(df$Date,'%w')
df$Week = strftime(df$Date,'%W')
df$Year = strftime(df$Date,'%Y')
df_weekly = subset(df, Weekday == 0)
cust_weekly = data.frame(year = df_weekly$Year, week = df_weekly$Week,  count = df_weekly$Cust...TOTAL)
View(cust_weekly)
View(cust_weekly)
nz = subset(cust_weekly, cust_weekly$count!=0)
View(nz)
View(nz)
tail(non_zeors, n =1)
tail(non_zerss, n =1)
tail(non_zeros, n =1)
source('~/.active-rstudio-document', echo=TRUE)
tail(non_zeros, n =1)
last = tail(non_zeros, n = 1)
View(last)
View(last)
row.names(last)
str(row.names(last))
last = row.names(tail(non_zeros, n = 1))
cust_weekly = subset(cust_weekly, cust_weekly$row.names>last)
last = as.numeric(row.names(tail(non_zeros, n = 1)))
cust_weekly = subset(cust_weekly, cust_weekly$row.names>last)
cust_weekly = data.frame(year = df_weekly$Year, week = df_weekly$Week,  count = df_weekly$Cust...TOTAL)
#removing future days
non_zeros = subset(cust_weekly, cust_weekly$count!=0)
last = as.numeric(row.names(tail(non_zeros, n = 1)))
cust_weekly = subset(cust_weekly, cust_weekly$row.names>last)
1:3
3:
1
cust_weekly = data.frame(year = df_weekly$Year, week = df_weekly$Week,  count = df_weekly$Cust...TOTAL)
#removing future days
non_zeros = subset(cust_weekly, cust_weekly$count!=0)
last = as.numeric(row.names(tail(non_zeros, n = 1)))
cust_weekly =cust_weekly[1:last]
last = as.numeric(row.names(tail(non_zeros, n = 1)))
cust_weekly =cust_weekly[1:last,]
View(cust_weekly)
View(cust_weekly)
source('~/.active-rstudio-document', echo=TRUE)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/import.R', echo=TRUE)
View(cust_weekly)
View(cust_weekly)
mean(cust_weekly$count)
cust_weekly[count==0]=mean(cust_weekly$count)
cust_weekly[cust_weekly$count==0]=mean(cust_weekly$count)
cust_weekly$count[cust_weekly$count==0]=mean(cust_weekly$count)
View(cust_weekly)
View(cust_weekly)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/run.R', echo=TRUE)
View(cust_weekly)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/run.R', echo=TRUE)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/run.R', echo=TRUE)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/run.R', echo=TRUE)
View(df)
View(df)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/run.R', echo=TRUE)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/run.R', echo=TRUE)
View(df_weekly)
View(df_weekly)
View(cust_weekly)
View(cust_weekly)
str(cust_weekly)
ggplot(source_data, aes(x = date, y=count, group=year, colour=year)) + geom_line()  + theme_bw()
ggplot(cust_weekly, aes(x = date, y=count, group=year, colour=year)) + geom_line()  + theme_bw()
View(cust_weekly)
View(cust_weekly)
source('~/.active-rstudio-document', echo=TRUE)
View(cust_weekly)
View(cust_weekly)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/run.R', echo=TRUE)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/run.R', echo=TRUE)
ggplot(cust_weekly, aes(x = date, y=count, group=year, colour=year)) + geom_line()  + theme_bw()
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/run.R', echo=TRUE)
View(cust_weekly)
View(cust_weekly)
cust_weekly[cust_weekly$week==0,]
cust_weekly[cust_weekly$week=="0",]
str(cust_weekly$week)
cust_weekly$week==0
cust_weekly$week=="00"
cust_weekly$week
levels(cust_weekly$week)
labels(cust_weekly$week)
as.numeric(cust_weekly$week)
source("import.R", chdir=T)
ggplot(cust_weekly, aes(x = date, y=count, group=year, colour=year)) + geom_line()  + theme_bw()
View(cust_weekly)
View(cust_weekly)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/run.R', echo=TRUE)
View(cust_weekly)
View(cust_weekly)
ggplot(cust_weekly, aes(x = week, y=count, group=year, colour=year)) + geom_line()  + theme_bw()
ggplot(cust_weekly, aes(x = w, y=Cust...TOTAL)) +
geom_boxplot() +
theme_bw() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(cust_weekly, aes(x = week, y=count)) +
geom_boxplot() +
theme_bw() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
p3 = ggplot(source_data, aes(x=date, y=count)) +
geom_line() +
theme_bw() +
#stat_smooth() +
#scale_x_discrete(breaks=source_data$weekYear[seq(1,length(source_data$weekYear), 52)]) +
#theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(source_data, aes(x=date, y=count)) +
geom_line() +
theme_bw() +
#stat_smooth() +
#scale_x_discrete(breaks=source_data$weekYear[seq(1,length(source_data$weekYear), 52)]) +
#theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(cust_weekly, aes(x=date, y=count)) +
geom_line() +
theme_bw() +
#stat_smooth() +
#scale_x_discrete(breaks=source_data$weekYear[seq(1,length(source_data$weekYear), 52)]) +
#theme(axis.text.x = element_text(angle = 90, hjust = 1))
#theme(axis.text.x = element_text(angle = 90, hjust = 1))
;
theme_bw()
#stat_smooth() +
#scale_x_discrete(breaks=source_data$weekYear[seq(1,length(source_data$weekYear), 52)]) +
#theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(cust_weekly, aes(x=date, y=count)) +
geom_line() +
theme_bw()
#stat_smooth() +
#scale_x_discrete(breaks=source_data$weekYear[seq(1,length(source_data$weekYear), 52)]) +
#theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(cust_weekly, aes(x=date, y=count)) +
geom_line() +
theme_bw() +
stat_smooth()
#scale_x_discrete(breaks=source_data$weekYear[seq(1,length(source_data$weekYear), 52)]) +
#theme(axis.text.x = element_text(angle = 90, hjust = 1))
source('~/.active-rstudio-document', echo=TRUE)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/run.R', echo=TRUE)
source("graphs.R", chdir=T)
general_graphs(cust_weekly)
#ggplot(cust_weekly, aes(x=date, y=count)) + geom_line() + theme_bw() + stat_smooth()
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/run.R', echo=TRUE)
source("graphs.R", chdir=T)
general_graphs(cust_weekly)
#ggplot(cust_weekly, aes(x=date, y=count)) + geom_line() + theme_bw() + stat_smooth()
