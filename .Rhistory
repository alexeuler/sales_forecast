#df_weekly = aggregate(df_new, by=list(df_new$weekYear),FUN="sum")
#df_weekly = subset(df, Weekday == 0)
#cust_weekly = data.frame(date = df_weekly$Date, year = df_weekly$Year, week = df_weekly$Week,  count = df_weekly$Cust...TOTAL)
#removing future days
#non_zeros = subset(cust_weekly, cust_weekly$count!=0)
#last = as.numeric(row.names(tail(non_zeros, n = 1))) - 1 #last week is not full, e.g. only mon and tue stats available
#cust_weekly =cust_weekly[1:last,]
#filling zeros with averages
#cust_weekly$count[cust_weekly$count==0]=mean(cust_weekly$count)
#removing first and last week - to avoid 53 - 1 week inconsistencies
#cust_weekly=cust_weekly[as.numeric(cust_weekly$week)!=1,]
#cust_weekly=cust_weekly[as.numeric(cust_weekly$week)!=52,]
#cust_weekly=cust_weekly[as.numeric(cust_weekly$week)!=53,]
View(tail(df))
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/import.R', echo=TRUE)
View(cust_weekly)
View(cust_weekly)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/run.R', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/run.R', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
cust_weekly$count
!is.na(cust_weekly$count)
View(cust_weekly)
general_graphs(cust_weekly)
general_graphs(cust_weekly)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/run.R', echo=TRUE)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/run.R', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/run.R', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
#ggplot(cust_weekly, aes(x = week, y=count)) + geom_boxplot() + theme_bw() + theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(cust_weekly, aes(x=date, y=count)) + geom_line() + theme_bw()# + stat_smooth()
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/run.R', echo=TRUE)
View(cust_weekly)
View(cust_weekly)
source('~/.active-rstudio-document', echo=TRUE)
ggplot(cust_weekly, aes(x = factor(week), y=count)) + geom_boxplot() + theme_bw() + theme(axis.text.x = element_text(angle = 90, hjust = 1))
#ggplot(cust_weekly, aes(x=date, y=count)) + geom_line() + theme_bw() + stat_smooth()
ggplot(cust_weekly, aes(x=date, y=count)) + geom_line() + theme_bw() + stat_smooth()
ggplot(cust_weekly, aes(x=date, y=count)) + geom_line() + theme_bw() + stat_smooth()
source('~/.active-rstudio-document', echo=TRUE)
general_graphs(cust_weekly)
#ggplot(cust_weekly, aes(x = factor(week), y=count, group=year, colour=year)) + geom_line()  + theme_bw() + theme(axis.text.x = element_text(angle = 90, hjust = 1))
#ggplot(cust_weekly, aes(x = factor(week), y=count)) + geom_boxplot() + theme_bw() + theme(axis.text.x = element_text(angle = 90, hjust = 1))
#ggplot(cust_weekly, aes(x=date, y=count)) + geom_line() + theme_bw() + stat_smooth()
general_graphs(cust_weekly)
#ggplot(cust_weekly, aes(x = factor(week), y=count, group=year, colour=year)) + geom_line()  + theme_bw() + theme(axis.text.x = element_text(angle = 90, hjust = 1))
#ggplot(cust_weekly, aes(x = factor(week), y=count)) + geom_boxplot() + theme_bw() + theme(axis.text.x = element_text(angle = 90, hjust = 1))
#ggplot(cust_weekly, aes(x=date, y=count)) + geom_line() + theme_bw() + stat_smooth()
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/run.R', echo=TRUE)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/run.R', echo=TRUE)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/run.R', echo=TRUE)
general_graphs(cust_weekly)
#ggplot(cust_weekly, aes(x = factor(week), y=count, group=year, colour=year)) + geom_line()  + theme_bw() + theme(axis.text.x = element_text(angle = 90, hjust = 1))
#ggplot(cust_weekly, aes(x = factor(week), y=count)) + geom_boxplot() + theme_bw() + theme(axis.text.x = element_text(angle = 90, hjust = 1))
#ggplot(cust_weekly, aes(x=date, y=count)) + geom_line() + theme_bw() + stat_smooth()
source('~/.active-rstudio-document', echo=TRUE)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/forecast.R', echo=TRUE)
cust_weekly_filtered = cust_weekly[cust_weekly$week!=53,]
cust_weekly_ts=ts(cust_weekly_filtered, frequency = 52)
source('~/.active-rstudio-document', echo=TRUE)
cust_weekly_ts
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/report.R', echo=TRUE)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/report.R', echo=TRUE)
View(cust)
View(cust)
debugSource('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/import.R', echo=TRUE)
debugSource('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/import.R', echo=TRUE)
debugSource('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/import.R', echo=TRUE)
df = readWorksheetFromFile(file = "Shop Figures v8.xlsx", sheet = "Takings", endCol = 13)
df$Date = as.Date(df$Date) + 1 #This is weird - the date from excel is read as previous day 23:00, to fix that we add 3 600 sec
df$Weekday = strftime(df$Date,'%w')
df$Year = strftime(df$Date,'%Y')
#Year 2007 is incomplete
df=df[df$Year>2007,]
#Remove future zeros
non_zeros = df[df$Cust...TOTAL!=0,]
last_date = tail(non_zeros, n = 1)$Date - 3
df=df[df$Date<=last_date,]
#adding week number starting the first day of the year
df_by_year=split(df,df$Year)
for (year in names(df_by_year)) {
x = seq(nrow(df_by_year[[year]]))
df_by_year[[year]]$Week = sprintf("%02d",ceiling(x/7))
}
df_new = do.call("rbind",df_by_year)
#modifying columns
df_new$Year = as.numeric(df_new$Year)
df_new$weekYear = paste(df_new$Year,df_new$Week,sep="-")
#making clean data frame, removing Sundays as they contain totals for a week
cust = data.frame(date = df_new$Date,
year = df_new$Year,
week = df_new$Week,
day = df_new$Weekday,
weekyear = df_new$weekYear,
count = df_new$Cust...TOTAL,
revenue = df_new$Cash + as.numeric(gsub("[$]","",df_new$EFTPOS))
)
cust$spend=cust$revenue / cust$count
cust = cust[cust$day!=0,]
#adding UK week, e.g. first monday of the year is the first week
cust$uk_week = strftime(cust$date, "%W")
cust$uk_weekyear = paste(cust$year,cust$uk_week,sep="-")
#filling na's with means
mean_count = mean(cust$count, na.rm=TRUE)
mean_count = mean(cust$count, na.rm=TRUE)
mean_revenue = mean(cust$revenue, na.rm=TRUE)
View(cust)
View(cust)
View(df)
View(df)
View(df_new)
View(df_new)
View(df_new)
View(df_new)
df = readWorksheetFromFile(file = "Shop Figures v8.xlsx", sheet = "Takings", endCol = 13)
df$Date = as.Date(df$Date) + 1 #This is weird - the date from excel is read as previous day 23:00, to fix that we add 3 600 sec
df$Weekday = strftime(df$Date,'%w')
df$Year = strftime(df$Date,'%Y')
#Year 2007 is incomplete
df=df[df$Year>2007,]
#Remove future zeros
non_zeros = df[df$Cust...TOTAL!=0,]
last_date = tail(non_zeros, n = 1)$Date - 3
df=df[df$Date<=last_date,]
#adding week number starting the first day of the year
df_by_year=split(df,df$Year)
for (year in names(df_by_year)) {
x = seq(nrow(df_by_year[[year]]))
df_by_year[[year]]$Week = sprintf("%02d",ceiling(x/7))
}
df_new = do.call("rbind",df_by_year)
#modifying columns
df_new$Year = as.numeric(df_new$Year)
df_new$weekYear = paste(df_new$Year,df_new$Week,sep="-")
#making clean data frame, removing Sundays as they contain totals for a week
cust = data.frame(date = df_new$Date,
cust = data.frame(date = df_new$Date,
year = df_new$Year,
week = df_new$Week,
day = df_new$Weekday,
weekyear = df_new$weekYear,
count = df_new$Cust...TOTAL,
revenue = df_new$Cash + as.numeric(gsub("[$]","",df_new$EFTPOS))
)
cust$spend=cust$revenue / cust$count
View(cust)
View(cust)
df_new$Cash
as.numeric(gsub("[$]","",df_new$EFTPOS))
(gsub("[$]","",df_new$EFTPOS)
)
as.numeric("517,35")
as.numeric("517.35")
as.numeric(gsub("[,]",".",gsub("[$]","",df_new$EFTPOS)))
source('~/.active-rstudio-document', echo=TRUE)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/report.R', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
View(cust)
View(cust)
source('~/.active-rstudio-document', echo=TRUE)
data = cust
field = "count"
method = "HoltWinters"
#quarter_forecast = function(data, field, method) {
last_week = tail(data, 1)$week
last_year = tail(data, 1)$year
last_weekyear = tail(data, 1)$weekyear
first_week_of_the_last_quarter = floor(last_week / 13) * 13
#}
close_forecast = function (data, field, method) {
#preparing current_week_data frame
last_day = tail(data, 1)$date
last_uk_week = tail(data, 1)$uk_week
last_uk_weekyear = tail(data, 1)$uk_weekyear
last_week_data = data[data$uk_weekyear==last_uk_weekyear,]
first_day_of_the_last_week = head(last_week_data$date,1)
current_week_data = data.frame(date=seq(first_day_of_the_last_week, length.out=6, by=1))
current_week_data = merge(current_week_data, data, by="date", all.x=T, all.y=F)
current_week_data = current_week_data[,c("date",field)]
names(current_week_data)[names(current_week_data)==field] = "actual"
#making initial forecast for the current week
initial_data = data[data$date<first_day_of_the_last_week,]
ts_daily = ts(initial_data[[field]], frequency = 6)
fit_daily = do.call(method, list(ts_daily))
fcast_daily = forecast(fit_daily, 6)
current_week_data$initial_forecast = round(c(fcast_daily$mean))
#making forecast
ts_daily = ts(data[[field]], frequency = 6)
fit_daily = do.call(method, list(ts_daily))
fcast_daily = forecast(fit_daily, 12) # note that forecast excludes sundays
dates_frame = data.frame(date = seq(last_day+1, length.out=20,by=1))
dates_frame$weekday = strftime(dates_frame$date,"%w")
dates_frame=dates_frame[dates_frame$weekday!=0,]
two_week_fcast=data.frame(
date = dates_frame$date[1:12],
forecast = c(round(fcast_daily$mean)))
current_week_data = merge(current_week_data, two_week_fcast, by="date", all.x=T)
first_day_of_the_next_week = tail(current_week_data$date,1)+2
next_week_data = data.frame(date = seq(first_day_of_the_next_week, length.out = 6, by = 1))
next_week_data = merge(next_week_data, two_week_fcast, by="date", all.x=T)
result = list(current_week=current_week_data, next_week = next_week_data)
return(result)
}
weekly_plot = function(data, title = element_blank()) {
data.m = melt(data,id="date")
p = ggplot(data.m, aes(x = strftime(date,"%Y-%m-%d"), y=value, label = value)) +
geom_bar(aes(fill = variable), position = "dodge", stat="identity") +
theme(axis.title.x=element_blank(),axis.title.y=element_blank()) +
ggtitle(title)
return(p)
}
#daily_forecast_count = close_forecast(cust, "count", "HoltWinters")
#daily_forecast_spend = close_forecast(cust, "spend", "HoltWinters")
#daily_forecast_revenue = list()
#daily_forecast_revenue$current_week = data.frame(
#  date = daily_forecast_spend$current_week$date,
#  actual = daily_forecast_spend$current_week$actual * daily_forecast_count$current_week$actual,
#  initial_forecast = daily_forecast_spend$current_week$initial_forecast * daily_forecast_count$current_week$initial_forecast,
#  forecast = daily_forecast_spend$current_week$forecast * daily_forecast_count$current_week$forecast
#  )
#daily_forecast_revenue$next_week = data.frame(
#  date = daily_forecast_spend$next_week$date,
#  forecast = daily_forecast_spend$next_week$forecast * daily_forecast_count$next_week$forecast
#)
#make_slide = function(data) {
#  multiplot(data$count, data$spend, data$revenue, cols = 2)
#}
#current_week_plot = list(
#  count = weekly_plot(daily_forecast_count$current_week, "Customers"),
#  spend = weekly_plot(daily_forecast_spend$current_week, "Average ticket"),
#  revenue = weekly_plot(daily_forecast_revenue$current_week, "Total income"))
#next_week_plot = list(
#  count = weekly_plot(daily_forecast_count$next_week, "Customers"),
#  spend = weekly_plot(daily_forecast_spend$next_week, "Average ticket"),
#  revenue = weekly_plot(daily_forecast_revenue$next_week, "Total income"))
#make_slide(current_week_plot)
#multiplot(current_week_plot$count, current_week_plot$spend, current_week_plot$revenue, cols = 2)
#current_week_customers_plot = weekly_plot(weekly_forecast$current_week, "Customers")
#next_week_customers_plot = weekly_plot(weekly_forecast$next_week, "Customers")
#multiplot(current_week_customers_plot)
#multiplot(weekly_plot(weekly_forecast$current_week, "Customers"),
#          weekly_plot(weekly_forecast$next_week))
source('~/.active-rstudio-document', echo=TRUE)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/report_weekly.R', echo=TRUE)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/report_weekly.R', echo=TRUE)
last_week
last_week = as.numeric(tail(data, 1)$week)
last_year = as.numeric(tail(data, 1)$year)
last_weekyear = tail(data, 1)$weekyear
first_week_of_the_last_quarter = floor(last_week / 13) * 13
#}
View(cust)
View(cust)
data = cust_weekly
field = "count"
method = "HoltWinters"
#quarter_forecast = function(data, field, method) {
last_week = as.numeric(tail(data, 1)$week)
last_year = as.numeric(tail(data, 1)$year)
last_weekyear = tail(data, 1)$weekyear
first_week_of_the_last_quarter = floor(last_week / 13) * 13
#}
View(cust_weekly)
View(cust_weekly)
View(cust_weekly)
View(cust_weekly)
source('~/.active-rstudio-document', echo=TRUE)
View(current_quarter_data)
View(current_quarter_data)
current_quarter_data$weekyear = paste(current_quarter_data$year, current_quarter_data$week, sep="-")
#}
View(current_quarter_data)
View(current_quarter_data)
source('~/.active-rstudio-document', echo=TRUE)
View(current_quarter_data)
View(current_quarter_data)
View(current_quarter_data)
View(current_quarter_data)
source('~/.active-rstudio-document', echo=TRUE)
source("run.R",chdir=T)
data = cust_weekly
field = "count"
method = "HoltWinters"
#quarter_forecast = function(data, field, method) {
last_week = as.numeric(tail(data, 1)$week)
last_year = as.numeric(tail(data, 1)$year)
last_weekyear = tail(data, 1)$weekyear
first_week_of_the_last_quarter = floor(last_week / 13) * 13
current_quarter_data = data.frame(
week = seq(first_week_of_the_last_quarter, length.out = 13, by = 1),
year = rep(last_year, 13))
current_quarter_data$weekyear = paste(current_quarter_data$year, current_quarter_data$week, sep="-")
current_quarter_data = current_quarter_data[,c("weekyear")]
current_quarter_data = merge(current_quarter_data, data, by = "weekyear")
source('~/.active-rstudio-document', echo=TRUE)
View(current_quarter_data)
View(current_quarter_data)
source('~/.active-rstudio-document', echo=TRUE)
View(current_quarter_data)
View(current_quarter_data)
source("run.R",chdir=T)
data = cust_weekly
field = "count"
method = "HoltWinters"
#quarter_forecast = function(data, field, method) {
last_week = as.numeric(tail(data, 1)$week)
last_year = as.numeric(tail(data, 1)$year)
last_weekyear = tail(data, 1)$weekyear
first_week_of_the_last_quarter = floor(last_week / 13) * 13
current_quarter_data = data.frame(
week = seq(first_week_of_the_last_quarter, length.out = 13, by = 1),
year = rep(last_year, 13))
current_quarter_data$weekyear = paste(current_quarter_data$year, current_quarter_data$week, sep="-")
current_quarter_data = data.frame(weekyear = current_quarter_data$weekyear)
View(current_quarter_data)
View(current_quarter_data)
current_quarter_data = data.frame(weekyear = current_quarter_data$weekyear)
current_quarter_data = merge(current_quarter_data, data, by = "weekyear", all.x = T)
current_quarter_data = current_quarter_data[,c("week","year", "weekyear", field)]
#}
View(current_quarter_data)
View(current_quarter_data)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
View(current_quarter_data)
View(current_quarter_data)
source('~/.active-rstudio-document', echo=TRUE)
View(cust_weekly)
View(cust_weekly)
View(current_quarter_data)
View(current_quarter_data)
source('~/.active-rstudio-document', echo=TRUE)
View(current_quarter_data)
View(current_quarter_data)
source('~/.active-rstudio-document', echo=TRUE)
View(current_quarter_data)
View(current_quarter_data)
initial_data = data[data$weekyear<first_week_of_the_last_quarter,]
#}
View(initial_data)
View(initial_data)
View(data)
View(data)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/report_weekly.R', echo=TRUE)
View(initial_data)
View(initial_data)
View(data)
View(data)
initial_data = data[data$weekyear<paste(last_year,last_week = 1, sep="-"),]
#}
source('~/.active-rstudio-document', echo=TRUE)
View(initial_data)
View(initial_data)
data$weekyear
source('~/.active-rstudio-document', echo=TRUE)
View(initial_data)
View(initial_data)
paste(last_year,last_week = 1, sep="-")
source('~/.active-rstudio-document', echo=TRUE)
View(initial_data)
View(initial_data)
data$weekyear
as.character(data$weekyear)
levels(data$weekyear)
str(levels(as.character(data$weekyear)))
data.m$weekyear = factor(data$weekyear, levels = "numeric")
initial_data = data[levels(data$weekyear)<paste(last_year,last_week, sep="-"),]
#}
data.m = data
data.m$weekyear = factor(data$weekyear, levels = "numeric")
initial_data = data[levels(data$weekyear)<paste(last_year,last_week, sep="-"),]
#}
View(data.m)
View(data.m)
data.m$weekyear = factor(data$weekyear, ordered = T)
initial_data = data[levels(data$weekyear)<paste(last_year,last_week, sep="-"),]
#}
View(data.m)
View(data.m)
levels(data.m$weekyear)
data.m$weekyear
source('~/.active-rstudio-document', echo=TRUE)
View(initial_data)
View(initial_data)
paste(last_year,last_week, sep="-")
source('~/.active-rstudio-document', echo=TRUE)
View(data.m)
View(data.m)
paste(last_year,first_week_of_the_last_quarter, sep="-")
data.m = data
data.m$weekyear = factor(data$weekyear, ordered = T)
initial_data = data.m[levels(data.m$weekyear)<paste(last_year,first_week_of_the_last_quarter, sep="-"),]
#}
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/report_weekly.R', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
View(initial_data)
View(initial_data)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/report_weekly.R', echo=TRUE)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/report_weekly.R', echo=TRUE)
View(current_quarter_data)
View(current_quarter_data)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/report_weekly.R', echo=TRUE)
View(initial_data)
View(initial_data)
View(current_quarter_data)
View(current_quarter_data)
source('~/.active-rstudio-document', echo=TRUE)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/report_weekly.R', echo=TRUE)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/report_weekly.R', echo=TRUE)
View(initial_data)
View(initial_data)
View(current_quarter_data)
View(current_quarter_data)
View(current_quarter_data)
View(current_quarter_data)
View(cust_weekly)
View(cust_weekly)
View(current_quarter_data)
View(current_quarter_data)
56%52
56%%52
53%%52
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/report_weekly.R', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
nrow(data)-1
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
View(dates_frame)
View(dates_frame)
dates_frame=dates_frame[dates_frame$week!=0,]
two_week_fcast=data.frame(
date = dates_frame$date[1:12],
forecast = c(round(fcast_daily$mean)))
#}
View(dates_frame)
View(dates_frame)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/report_weekly.R', echo=TRUE)
View(dates_frame)
View(dates_frame)
source('~/.active-rstudio-document', echo=TRUE)
View(two_quarter_fcast)
View(two_quarter_fcast)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/report_weekly.R', echo=TRUE)
View(current_quarter_data)
View(current_quarter_data)
View(two_quarter_fcast)
View(two_quarter_fcast)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/report_weekly.R', echo=TRUE)
View(current_quarter_data)
View(current_quarter_data)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/report_weekly.R', echo=TRUE)
View(current_quarter_data)
View(current_quarter_data)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/report_weekly.R', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/report_weekly.R', echo=TRUE)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/report_weekly.R', echo=TRUE)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/report_weekly.R', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
View(next_quarter_data)
View(next_quarter_data)
seq(first_week_of_the_last_quarter + 13, 13)
seq(first_week_of_the_last_quarter + 13, length = 13)
source('~/.active-rstudio-document', echo=TRUE)
View(next_quarter_data)
View(next_quarter_data)
source('~/.active-rstudio-document', echo=TRUE)
View(next_quarter_data)
View(next_quarter_data)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/report_weekly.R', echo=TRUE)
View(next_quarter_data)
View(next_quarter_data)
next_quarter_data$week
sprintf("%04d",next_quarter_data$week)
sprintf("%01d",next_quarter_data$week)
sprintf("%02d",next_quarter_data$week)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/report_weekly.R', echo=TRUE)
View(next_quarter_data)
View(next_quarter_data)
source('~/.active-rstudio-document', echo=TRUE)
View(next_quarter_data)
View(next_quarter_data)
View(two_quarter_fcast)
View(two_quarter_fcast)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/report_weekly.R', echo=TRUE)
View(next_quarter_data)
View(next_quarter_data)
source('C:/Users/Алексей Карасев/Dropbox/Business/oDesk/Tasks/Shop/Forecast/report_weekly.R', echo=TRUE)
paste(next_quarter_data$date,"01", "01", sep="-")
paste(next_quarter_data$date[1],"01", "01", sep="-")
next_quarter_data$date[1]
next_quarter_data$date
paste(next_quarter_data$year,"01", "01", sep="-")
source('~/.active-rstudio-document', echo=TRUE)
View(next_quarter_data)
View(next_quarter_data)
